import {child_age_to_months, ChildAge} from "../ts/patient_settings";

let first_24_months_boys_length_percentiles = {
    "0": {
        "P2": 46.09799,
        "P5": 46.77032,
        "P10": 47.45809,
        "P25": 48.60732,
        "P50": 49.8842,
        "P75": 51.16108,
        "P90": 52.31031,
        "P95": 52.99808,
        "P98": 53.67041
    },
    "1": {
        "P2": 50.83131,
        "P5": 51.52262,
        "P10": 52.2298,
        "P25": 53.41147,
        "P50": 54.7244,
        "P75": 56.03733,
        "P90": 57.219,
        "P95": 57.92618,
        "P98": 58.61749
    },
    "2": {
        "P2": 54.42396,
        "P5": 55.13442,
        "P10": 55.8612,
        "P25": 57.0756,
        "P50": 58.4249,
        "P75": 59.7742,
        "P90": 60.9886,
        "P95": 61.71538,
        "P98": 62.42584
    },
    "3": {
        "P2": 57.34047,
        "P5": 58.06652,
        "P10": 58.80924,
        "P25": 60.0503,
        "P50": 61.4292,
        "P75": 62.8081,
        "P90": 64.04916,
        "P95": 64.79188,
        "P98": 65.51793
    },
    "4": {
        "P2": 59.72447,
        "P5": 60.46344,
        "P10": 61.21939,
        "P25": 62.48254,
        "P50": 63.886,
        "P75": 65.28946,
        "P90": 66.55261,
        "P95": 67.30856,
        "P98": 68.04753
    },
    "5": {
        "P2": 61.67956,
        "P5": 62.42946,
        "P10": 63.19658,
        "P25": 64.4784,
        "P50": 65.9026,
        "P75": 67.3268,
        "P90": 68.60862,
        "P95": 69.37574,
        "P98": 70.12564
    },
    "6": {
        "P2": 63.34303,
        "P5": 64.10314,
        "P10": 64.88071,
        "P25": 66.18,
        "P50": 67.6236,
        "P75": 69.0672,
        "P90": 70.36649,
        "P95": 71.14406,
        "P98": 71.90417
    },
    "7": {
        "P2": 64.82235,
        "P5": 65.5934,
        "P10": 66.38216,
        "P25": 67.70013,
        "P50": 69.1645,
        "P75": 70.62887,
        "P90": 71.94684,
        "P95": 72.7356,
        "P98": 73.50665
    },
    "8": {
        "P2": 66.18835,
        "P5": 66.97163,
        "P10": 67.77291,
        "P25": 69.1118,
        "P50": 70.5994,
        "P75": 72.087,
        "P90": 73.42589,
        "P95": 74.22717,
        "P98": 75.01045
    },
    "9": {
        "P2": 67.48217,
        "P5": 68.27886,
        "P10": 69.09384,
        "P25": 70.45564,
        "P50": 71.9687,
        "P75": 73.48176,
        "P90": 74.84356,
        "P95": 75.65854,
        "P98": 76.45523
    },
    "10": {
        "P2": 68.71138,
        "P5": 69.52286,
        "P10": 70.35297,
        "P25": 71.74005,
        "P50": 73.2812,
        "P75": 74.82235,
        "P90": 76.20943,
        "P95": 77.03954,
        "P98": 77.85102
    },
    "11": {
        "P2": 69.88013,
        "P5": 70.70738,
        "P10": 71.55363,
        "P25": 72.96769,
        "P50": 74.5388,
        "P75": 76.10991,
        "P90": 77.52397,
        "P95": 78.37022,
        "P98": 79.19748
    },
    "12": {
        "P2": 70.99632,
        "P5": 71.84023,
        "P10": 72.70353,
        "P25": 74.14605,
        "P50": 75.7488,
        "P75": 77.35155,
        "P90": 78.79407,
        "P95": 79.65737,
        "P98": 80.50128
    },
    "13": {
        "P2": 72.06657,
        "P5": 72.92816,
        "P10": 73.80954,
        "P25": 75.28228,
        "P50": 76.9186,
        "P75": 78.55492,
        "P90": 80.02766,
        "P95": 80.90904,
        "P98": 81.77063
    },
    "14": {
        "P2": 73.09511,
        "P5": 73.97491,
        "P10": 74.87492,
        "P25": 76.37879,
        "P50": 78.0497,
        "P75": 79.72061,
        "P90": 81.22448,
        "P95": 82.12449,
        "P98": 83.0043
    },
    "15": {
        "P2": 74.08522,
        "P5": 74.98384,
        "P10": 75.9031,
        "P25": 77.43914,
        "P50": 79.1458,
        "P75": 80.85246,
        "P90": 82.3885,
        "P95": 83.30776,
        "P98": 84.20638
    },
    "16": {
        "P2": 75.04248,
        "P5": 75.96033,
        "P10": 76.89925,
        "P25": 78.46814,
        "P50": 80.2113,
        "P75": 81.95446,
        "P90": 83.52335,
        "P95": 84.46227,
        "P98": 85.38012
    },
    "17": {
        "P2": 75.96753,
        "P5": 76.90533,
        "P10": 77.86466,
        "P25": 79.46765,
        "P50": 81.2487,
        "P75": 83.02975,
        "P90": 84.63274,
        "P95": 85.59207,
        "P98": 86.52987
    },
    "18": {
        "P2": 76.86417,
        "P5": 77.8221,
        "P10": 78.80202,
        "P25": 80.43942,
        "P50": 82.2587,
        "P75": 84.07798,
        "P90": 85.71538,
        "P95": 86.6953,
        "P98": 87.65323
    },
    "19": {
        "P2": 77.73119,
        "P5": 78.70973,
        "P10": 79.71074,
        "P25": 81.38338,
        "P50": 83.2418,
        "P75": 85.10022,
        "P90": 86.77286,
        "P95": 87.77387,
        "P98": 88.75241
    },
    "20": {
        "P2": 78.5717,
        "P5": 79.57106,
        "P10": 80.59338,
        "P25": 82.30162,
        "P50": 84.1996,
        "P75": 86.09758,
        "P90": 87.80582,
        "P95": 88.82814,
        "P98": 89.8275
    },
    "21": {
        "P2": 79.3865,
        "P5": 80.40724,
        "P10": 81.45143,
        "P25": 83.19621,
        "P50": 85.1348,
        "P75": 87.07339,
        "P90": 88.81817,
        "P95": 89.86236,
        "P98": 90.8831
    },
    "22": {
        "P2": 80.17925,
        "P5": 81.22133,
        "P10": 82.28734,
        "P25": 84.06859,
        "P50": 86.0477,
        "P75": 88.02681,
        "P90": 89.80806,
        "P95": 90.87407,
        "P98": 91.91615
    },
    "23": {
        "P2": 80.95077,
        "P5": 82.01447,
        "P10": 83.1026,
        "P25": 84.92082,
        "P50": 86.941,
        "P75": 88.96118,
        "P90": 90.7794,
        "P95": 91.86753,
        "P98": 92.93123
    },
    "24": {
        "P2": 81.70586,
        "P5": 82.79087,
        "P10": 83.9008,
        "P25": 85.75545,
        "P50": 87.8161,
        "P75": 89.87675,
        "P90": 91.7314,
        "P95": 92.84133,
        "P98": 93.92634
    }
};
let first_24_months_girls_length_percentiles = {
    "0": {
        "P2": 45.4223043,
        "P5": 46.08383,
        "P10": 46.76056,
        "P25": 47.89133,
        "P50": 49.1477,
        "P75": 50.40407,
        "P90": 51.53484,
        "P95": 52.21157,
        "P98": 52.8730957
    },
    "1": {
        "P2": 49.7787718,
        "P5": 50.4728,
        "P10": 51.18277,
        "P25": 52.3691,
        "P50": 53.6872,
        "P75": 55.0053,
        "P90": 56.19163,
        "P95": 56.9016,
        "P98": 57.5956282
    },
    "2": {
        "P2": 52.9949775,
        "P5": 53.71811,
        "P10": 54.45785,
        "P25": 55.69393,
        "P50": 57.0673,
        "P75": 58.44067,
        "P90": 59.67675,
        "P95": 60.41649,
        "P98": 61.1396225
    },
    "3": {
        "P2": 55.5927758,
        "P5": 56.34038,
        "P10": 57.10515,
        "P25": 58.38306,
        "P50": 59.8029,
        "P75": 61.22274,
        "P90": 62.50065,
        "P95": 63.26542,
        "P98": 64.0130242
    },
    "4": {
        "P2": 57.7609922,
        "P5": 58.52969,
        "P10": 59.31604,
        "P25": 60.63,
        "P50": 62.0899,
        "P75": 63.5498,
        "P90": 64.86376,
        "P95": 65.65011,
        "P98": 66.4188078
    },
    "5": {
        "P2": 59.5953753,
        "P5": 60.38286,
        "P10": 61.18844,
        "P25": 62.53451,
        "P50": 64.0301,
        "P75": 65.52569,
        "P90": 66.87176,
        "P95": 67.67734,
        "P98": 68.4648247
    },
    "6": {
        "P2": 61.1982833,
        "P5": 62.00319,
        "P10": 62.82658,
        "P25": 64.20243,
        "P50": 65.7311,
        "P75": 67.25977,
        "P90": 68.63562,
        "P95": 69.45901,
        "P98": 70.2639167
    },
    "7": {
        "P2": 62.656588,
        "P5": 63.47888,
        "P10": 64.32005,
        "P25": 65.72562,
        "P50": 67.2873,
        "P75": 68.84898,
        "P90": 70.25455,
        "P95": 71.09572,
        "P98": 71.918012
    },
    "8": {
        "P2": 64.0198138,
        "P5": 64.85973,
        "P10": 65.71894,
        "P25": 67.15464,
        "P50": 68.7498,
        "P75": 70.34496,
        "P90": 71.78066,
        "P95": 72.63987,
        "P98": 73.4797862
    },
    "9": {
        "P2": 65.3120157,
        "P5": 66.16996,
        "P10": 67.0476,
        "P25": 68.51411,
        "P50": 70.1435,
        "P75": 71.77289,
        "P90": 73.2394,
        "P95": 74.11704,
        "P98": 74.9749843
    },
    "10": {
        "P2": 66.5466965,
        "P5": 67.42304,
        "P10": 68.31951,
        "P25": 69.81746,
        "P50": 71.4818,
        "P75": 73.14614,
        "P90": 74.64409,
        "P95": 75.54056,
        "P98": 76.4169035
    },
    "11": {
        "P2": 67.7294251,
        "P5": 68.62467,
        "P10": 69.54048,
        "P25": 71.07075,
        "P50": 72.771,
        "P75": 74.47125,
        "P90": 76.00152,
        "P95": 76.91733,
        "P98": 77.8125749
    },
    "12": {
        "P2": 68.8650363,
        "P5": 69.77953,
        "P10": 70.71503,
        "P25": 72.2782,
        "P50": 74.015,
        "P75": 75.7518,
        "P90": 77.31497,
        "P95": 78.25047,
        "P98": 79.1649637
    },
    "13": {
        "P2": 69.9583854,
        "P5": 70.89228,
        "P10": 71.84762,
        "P25": 73.44396,
        "P50": 75.2176,
        "P75": 76.99124,
        "P90": 78.58758,
        "P95": 79.54292,
        "P98": 80.4768146
    },
    "14": {
        "P2": 71.0135941,
        "P5": 71.96683,
        "P10": 72.94195,
        "P25": 74.57133,
        "P50": 76.3817,
        "P75": 78.19207,
        "P90": 79.82145,
        "P95": 80.79657,
        "P98": 81.7498059
    },
    "15": {
        "P2": 72.0315003,
        "P5": 73.00432,
        "P10": 73.99947,
        "P25": 75.66234,
        "P50": 77.5099,
        "P75": 79.35746,
        "P90": 81.02033,
        "P95": 82.01548,
        "P98": 82.9882997
    },
    "16": {
        "P2": 73.016649,
        "P5": 74.00908,
        "P10": 75.0243,
        "P25": 76.72069,
        "P50": 78.6055,
        "P75": 80.49031,
        "P90": 82.1867,
        "P95": 83.20192,
        "P98": 84.1943511
    },
    "17": {
        "P2": 73.9729301,
        "P5": 74.98475,
        "P10": 76.01981,
        "P25": 77.74936,
        "P50": 79.671,
        "P75": 81.59264,
        "P90": 83.32219,
        "P95": 84.35725,
        "P98": 85.3690699
    },
    "18": {
        "P2": 74.9001595,
        "P5": 75.93146,
        "P10": 76.98644,
        "P25": 78.74927,
        "P50": 80.7079,
        "P75": 82.66653,
        "P90": 84.42936,
        "P95": 85.48434,
        "P98": 86.5156405
    },
    "19": {
        "P2": 75.8018023,
        "P5": 76.8524,
        "P10": 77.92712,
        "P25": 79.72293,
        "P50": 81.7182,
        "P75": 83.71347,
        "P90": 85.50928,
        "P95": 86.584,
        "P98": 87.6345977
    },
    "20": {
        "P2": 76.6778157,
        "P5": 77.74783,
        "P10": 78.84242,
        "P25": 80.67144,
        "P50": 82.7036,
        "P75": 84.73576,
        "P90": 86.56478,
        "P95": 87.65937,
        "P98": 88.7293843
    },
    "21": {
        "P2": 77.5310529,
        "P5": 78.62035,
        "P10": 79.73466,
        "P25": 81.59662,
        "P50": 83.6654,
        "P75": 85.73418,
        "P90": 87.59614,
        "P95": 88.71045,
        "P98": 89.7997471
    },
    "22": {
        "P2": 78.363609,
        "P5": 79.47174,
        "P10": 80.60531,
        "P25": 82.49946,
        "P50": 84.604,
        "P75": 86.70854,
        "P90": 88.60269,
        "P95": 89.73626,
        "P98": 90.844391
    },
    "23": {
        "P2": 79.1728908,
        "P5": 80.3,
        "P10": 81.453,
        "P25": 83.3796,
        "P50": 85.5202,
        "P75": 87.6608,
        "P90": 89.5874,
        "P95": 90.7404,
        "P98": 91.8675092
    },
    "24": {
        "P2": 79.9618054,
        "P5": 81.10777,
        "P10": 82.28006,
        "P25": 84.23889,
        "P50": 86.4153,
        "P75": 88.59171,
        "P90": 90.55054,
        "P95": 91.72283,
        "P98": 92.8687946
    }
};
let two_to_twenty_years_boys_length_percentiles = {
    "2": {
        "P3": 79.9108,
        "P5": 80.7298,
        "P10": 81.9917,
        "P25": 84.1029,
        "P50": 86.4522,
        "P75": 88.8052,
        "P90": 90.9262,
        "P95": 92.1969,
        "P97": 93.0227
    },
    "3": {
        "P3": 88.3786,
        "P5": 89.2047,
        "P10": 90.4979,
        "P25": 92.7176,
        "P50": 95.2736,
        "P75": 97.9287,
        "P90": 100.4072,
        "P95": 101.9324,
        "P97": 102.9402
    },
    "4": {
        "P3": 94.5936,
        "P5": 95.5807,
        "P10": 97.1041,
        "P25": 99.6588,
        "P50": 102.5105,
        "P75": 105.3759,
        "P90": 107.9665,
        "P95": 109.5220,
        "P97": 110.5342
    },
    "5": {
        "P3": 100.3318,
        "P5": 101.4523,
        "P10": 103.1712,
        "P25": 106.0265,
        "P50": 109.1751,
        "P75": 112.2998,
        "P90": 115.0924,
        "P95": 116.7550,
        "P97": 117.8314
    },
    "6": {
        "P3": 106.1048,
        "P5": 107.3099,
        "P10": 109.1619,
        "P25": 112.2469,
        "P50": 115.6609,
        "P75": 119.0611,
        "P90": 122.1101,
        "P95": 123.9297,
        "P97": 125.1095
    },
    "7": {
        "P3": 111.9459,
        "P5": 113.1991,
        "P10": 115.1356,
        "P25": 118.3893,
        "P50": 122.0305,
        "P75": 125.6987,
        "P90": 129.0230,
        "P95": 131.0226,
        "P97": 132.3253
    },
    "8": {
        "P3": 117.5000,
        "P5": 118.8053,
        "P10": 120.8305,
        "P25": 124.2562,
        "P50": 128.1237,
        "P75": 132.0559,
        "P90": 135.6504,
        "P95": 137.8267,
        "P97": 139.2502
    },
    "9": {
        "P3": 122.4034,
        "P5": 123.7928,
        "P10": 125.9501,
        "P25": 129.6035,
        "P50": 133.7345,
        "P75": 137.9414,
        "P90": 141.7930,
        "P95": 144.1278,
        "P97": 145.6560
    },
    "10": {
        "P3": 126.6678,
        "P5": 128.1625,
        "P10": 130.4809,
        "P25": 134.4008,
        "P50": 138.8234,
        "P75": 143.3168,
        "P90": 147.4214,
        "P95": 149.9053,
        "P97": 151.5294
    },
    "11": {
        "P3": 130.8127,
        "P5": 132.3990,
        "P10": 134.8608,
        "P25": 139.0262,
        "P50": 143.7304,
        "P75": 148.5147,
        "P90": 152.8894,
        "P95": 155.5386,
        "P97": 157.2715
    },
    "12": {
        "P3": 135.6621,
        "P5": 137.3326,
        "P10": 139.9280,
        "P25": 144.3277,
        "P50": 149.3088,
        "P75": 154.3881,
        "P90": 159.0439,
        "P95": 161.8686,
        "P97": 163.7185
    },
    "13": {
        "P3": 141.7345,
        "P5": 143.5608,
        "P10": 146.3813,
        "P25": 151.1165,
        "P50": 156.4099,
        "P75": 161.7364,
        "P90": 166.5581,
        "P95": 169.4561,
        "P97": 171.3430
    },
    "14": {
        "P3": 148.5284,
        "P5": 150.5461,
        "P10": 153.6181,
        "P25": 158.6615,
        "P50": 164.1418,
        "P75": 169.5022,
        "P90": 174.2313,
        "P95": 177.0206,
        "P97": 178.8165
    },
    "15": {
        "P3": 154.6056,
        "P5": 156.6566,
        "P10": 159.7529,
        "P25": 164.7713,
        "P50": 170.1393,
        "P75": 175.3105,
        "P90": 179.8124,
        "P95": 182.4429,
        "P97": 184.1270
    },
    "16": {
        "P3": 158.8450,
        "P5": 160.7802,
        "P10": 163.7104,
        "P25": 168.4805,
        "P50": 173.6101,
        "P75": 178.5762,
        "P90": 182.9179,
        "P95": 185.4623,
        "P97": 187.0941
    },
    "17": {
        "P3": 161.2733,
        "P5": 163.0860,
        "P10": 165.8491,
        "P25": 170.3931,
        "P50": 175.3410,
        "P75": 180.1896,
        "P90": 184.4741,
        "P95": 187.0040,
        "P97": 188.6338
    },
    "18": {
        "P3": 162.5011,
        "P5": 164.2424,
        "P10": 166.9094,
        "P25": 171.3282,
        "P50": 176.1850,
        "P75": 180.9889,
        "P90": 185.2692,
        "P95": 187.8120,
        "P97": 189.4560
    },
    "19": {
        "P3": 163.0793,
        "P5": 164.7915,
        "P10": 167.4199,
        "P25": 171.7910,
        "P50": 176.6179,
        "P75": 181.4147,
        "P90": 185.7073,
        "P95": 188.2653,
        "P97": 189.9224
    },
    "20": {
        "P3": 163.3333,
        "P5": 165.0389,
        "P10": 167.6593,
        "P25": 172.0227,
        "P50": 176.8492,
        "P75": 181.6538,
        "P90": 185.9599,
        "P95": 188.5290,
        "P97": 190.1943
    }
};
let two_to_twenty_years_girls_length_percentiles = {
    "2": {
        "P3": 78.4375,
        "P5": 79.2598,
        "P10": 80.5248,
        "P25": 82.6352,
        "P50": 84.9756,
        "P75": 87.3112,
        "P90": 89.4095,
        "P95": 90.6635,
        "P97": 91.4773
    },
    "3": {
        "P3": 86.9031,
        "P5": 87.8053,
        "P10": 89.2028,
        "P25": 91.5607,
        "P50": 94.2134,
        "P75": 96.9007,
        "P90": 99.349,
        "P95": 100.8276,
        "P97": 101.7931
    },
    "4": {
        "P3": 93.0686,
        "P5": 94.0402,
        "P10": 95.5516,
        "P25": 98.119,
        "P50": 101.0339,
        "P75": 104.0154,
        "P90": 106.7567,
        "P95": 108.4238,
        "P97": 109.5172
    },
    "5": {
        "P3": 99.3505,
        "P5": 100.3891,
        "P10": 102.0109,
        "P25": 104.7829,
        "P50": 107.9566,
        "P75": 111.2321,
        "P90": 114.2701,
        "P95": 116.1301,
        "P97": 117.3552
    },
    "6": {
        "P3": 105.7615,
        "P5": 106.8701,
        "P10": 108.605,
        "P25": 111.5812,
        "P50": 115.0055,
        "P75": 118.5588,
        "P90": 121.8718,
        "P95": 123.9086,
        "P97": 125.2536
    },
    "7": {
        "P3": 111.8684,
        "P5": 113.0546,
        "P10": 114.9112,
        "P25": 118.0964,
        "P50": 121.7617,
        "P75": 125.5655,
        "P90": 129.1127,
        "P95": 131.2936,
        "P97": 132.7338
    },
    "8": {
        "P3": 117.2737,
        "P5": 118.5443,
        "P10": 120.53,
        "P25": 123.9285,
        "P50": 127.8263,
        "P75": 131.8567,
        "P90": 135.6015,
        "P95": 137.8975,
        "P97": 139.411
    },
    "9": {
        "P3": 121.8537,
        "P5": 123.2186,
        "P10": 125.3478,
        "P25": 128.9808,
        "P50": 133.1304,
        "P75": 137.4018,
        "P90": 141.3532,
        "P95": 143.7674,
        "P97": 145.3555
    },
    "10": {
        "P3": 125.9599,
        "P5": 127.4524,
        "P10": 129.7752,
        "P25": 133.7239,
        "P50": 138.2112,
        "P75": 142.8051,
        "P90": 147.0322,
        "P95": 149.6044,
        "P97": 151.292
    },
    "11": {
        "P3": 130.7217,
        "P5": 132.4013,
        "P10": 134.9983,
        "P25": 139.3664,
        "P50": 144.2609,
        "P75": 149.1984,
        "P90": 153.6783,
        "P95": 156.3755,
        "P97": 158.1335
    },
    "12": {
        "P3": 137.4381,
        "P5": 139.2236,
        "P10": 141.9594,
        "P25": 146.4958,
        "P50": 151.4866,
        "P75": 156.428,
        "P90": 160.8353,
        "P95": 163.4555,
        "P97": 165.1503
    },
    "13": {
        "P3": 144.2287,
        "P5": 145.8894,
        "P10": 148.4376,
        "P25": 152.6721,
        "P50": 157.3437,
        "P75": 161.9818,
        "P90": 166.1289,
        "P95": 168.5987,
        "P97": 170.1979
    },
    "14": {
        "P3": 148.1173,
        "P5": 149.6655,
        "P10": 152.0508,
        "P25": 156.0401,
        "P50": 160.4777,
        "P75": 164.9206,
        "P90": 168.9239,
        "P95": 171.3216,
        "P97": 172.8796
    },
    "15": {
        "P3": 149.7416,
        "P5": 151.2611,
        "P10": 153.604,
        "P25": 157.5271,
        "P50": 161.898,
        "P75": 166.2812,
        "P90": 170.2366,
        "P95": 172.6084,
        "P97": 174.1505
    },
    "16": {
        "P3": 150.4209,
        "P5": 151.9418,
        "P10": 154.2854,
        "P25": 158.2061,
        "P50": 162.569,
        "P75": 166.9388,
        "P90": 170.8775,
        "P95": 173.2373,
        "P97": 174.7708
    },
    "17": {
        "P3": 150.7491,
        "P5": 152.2764,
        "P10": 154.6281,
        "P25": 158.5577,
        "P50": 162.9238,
        "P75": 167.29,
        "P90": 171.2198,
        "P95": 173.5716,
        "P97": 175.099
    },
    "18": {
        "P3": 150.9319,
        "P5": 152.4647,
        "P10": 154.8235,
        "P25": 158.7612,
        "P50": 163.1308,
        "P75": 167.4948,
        "P90": 171.418,
        "P95": 173.7638,
        "P97": 175.2864
    },
    "19": {
        "P3": 151.043,
        "P5": 152.5798,
        "P10": 154.9438,
        "P25": 158.8872,
        "P50": 163.259,
        "P75": 167.6211,
        "P90": 171.5391,
        "P95": 173.8802,
        "P97": 175.3993
    },
    "20": {
        "P3": 151.1112,
        "P5": 152.6507,
        "P10": 155.0181,
        "P25": 158.9651,
        "P50": 163.3383,
        "P75": 167.6987,
        "P90": 171.6129,
        "P95": 173.9507,
        "P97": 175.4671
    }
};

export enum Percentile{
    P2,
    P3,
    P5,
    P10,
    P25,
    P50,
    P75,
    P90,
    P95,
    P97,
    P98
}

/** Returns the percentile of a child's length based on their age
 *
 * @param age
 * @param length in cm
 *
 * @returns the male percentile and the female percentile
 */
export function get_percentile(age: ChildAge, length: number): [Percentile, Percentile]{
    let relevant_percentiles_months_index;
    let relevant_percentiles_years_index;

    if(age < ChildAge.MONTHS24){
        relevant_percentiles_months_index = child_age_to_months(age);
    }else if(age == ChildAge.MONTHS24){
        relevant_percentiles_years_index = 2;
    }else if(age == ChildAge.YEARS3){
        relevant_percentiles_years_index = 3;
    }else if(age == ChildAge.YEARS4){
        relevant_percentiles_years_index = 4;
    }else if(age == ChildAge.YEARS5){
        relevant_percentiles_years_index = 5;
    }else if(age == ChildAge.YEARS6){
        relevant_percentiles_years_index = 6;
    }else if(age == ChildAge.YEARS7){
        relevant_percentiles_years_index = 7;
    }else if(age == ChildAge.YEARS8){
        relevant_percentiles_years_index = 8;
    }else if(age == ChildAge.YEARS9){
        relevant_percentiles_years_index = 9;
    }else if(age == ChildAge.YEARS10){
        relevant_percentiles_years_index = 10;
    }else if(age == ChildAge.YEARS11){
        relevant_percentiles_years_index = 11;
    }else if(age == ChildAge.YEARS12){
        relevant_percentiles_years_index = 12;
    }else if(age == ChildAge.YEARS13){
        relevant_percentiles_years_index = 13;
    }else if(age == ChildAge.YEARS14){
        relevant_percentiles_years_index = 14;
    }else if(age == ChildAge.YEARS15){
        relevant_percentiles_years_index = 15;
    }else if(age == ChildAge.YEARS16){
        relevant_percentiles_years_index = 16;
    }else if(age == ChildAge.YEARS17) {
        relevant_percentiles_years_index = 17;
    }

    if(relevant_percentiles_months_index){
        let index = relevant_percentiles_months_index.toString();
        let percentiles_boys = first_24_months_boys_length_percentiles[index as keyof typeof first_24_months_boys_length_percentiles];
        let percentiles_girls = first_24_months_girls_length_percentiles[index as keyof typeof first_24_months_girls_length_percentiles];

        console.log("index: "+index);

        console.log("Selected percentiles: ");
        console.log(percentiles_boys);
        console.log(percentiles_girls);

        let male_percentile = get_best_percentile(percentiles_boys, length);
        let girl_percentile = get_best_percentile(percentiles_girls, length);

        return [male_percentile, girl_percentile];
    }else if(relevant_percentiles_years_index){
        let index = relevant_percentiles_years_index.toString();
        let percentiles_boys = two_to_twenty_years_boys_length_percentiles[index as keyof typeof two_to_twenty_years_boys_length_percentiles];
        let percentiles_girls = two_to_twenty_years_girls_length_percentiles[index as keyof typeof two_to_twenty_years_girls_length_percentiles];

        let male_percentile = get_best_percentile(percentiles_boys, length);
        let girl_percentile = get_best_percentile(percentiles_girls, length);

        return [male_percentile, girl_percentile];
    }else{
        throw new Error("Invalid age");
    }

}

function get_best_percentile(percentiles: any, length: number): Percentile{
    let max_length_diff: number;
    let best_percentile: any;

    Object.keys(percentiles).forEach((key : keyof typeof percentiles) => {
        let ref_val: number = percentiles[key];
        let diff = Math.abs(ref_val - length);

        if(!max_length_diff || diff < max_length_diff){
            max_length_diff = diff;
            best_percentile = key;
        }
    });

    console.log("Best percentile: "+best_percentile+" with diff: "+max_length_diff);

    if(best_percentile == "P2"){
        return Percentile.P2;
    }else if(best_percentile == "P3") {
        return Percentile.P3;
    }else if(best_percentile == "P5") {
        return Percentile.P5;
    }else if(best_percentile == "P10") {
        return Percentile.P10;
    }else if(best_percentile == "P25") {
        return Percentile.P25;
    }else if(best_percentile == "P50") {
        return Percentile.P50;
    }else if(best_percentile == "P75") {
        return Percentile.P75;
    }else if(best_percentile == "P90") {
        return Percentile.P90;
    }else if(best_percentile == "P95") {
        return Percentile.P95;
    }else if(best_percentile == "P97") {
        return Percentile.P97;
    }else if(best_percentile == "P98") {
        return Percentile.P98;
    }
}